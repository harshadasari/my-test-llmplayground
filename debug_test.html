<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debug Test - Loading Overlay</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .debug-info { background: #f0f0f0; padding: 10px; margin: 10px 0; border-radius: 5px; }
        .loading-overlay { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0, 0, 0, 0.8); display: none; justify-content: center; 
            align-items: center; z-index: 9999; color: white; font-size: 18px;
        }
        .loading-overlay.show { display: flex; }
        button { padding: 10px 20px; margin: 5px; font-size: 16px; }
    </style>
</head>
<body>
    <h1>Loading Overlay Debug Test</h1>
    
    <div class="debug-info">
        <h3>Test Controls:</h3>
        <button onclick="testShow()">Show Loading</button>
        <button onclick="testHide()">Hide Loading</button>
        <button onclick="checkState()">Check State</button>
        <button onclick="openMainApp()">Open Main App</button>
    </div>
    
    <div class="debug-info">
        <h3>Console Output:</h3>
        <div id="console-output" style="background: black; color: lime; padding: 10px; font-family: monospace; height: 300px; overflow-y: auto;"></div>
    </div>
    
    <div class="loading-overlay" id="loadingOverlay">
        <div>Processing your request...</div>
    </div>
    
    <script>
        const overlay = document.getElementById('loadingOverlay');
        const consoleOutput = document.getElementById('console-output');
        
        function log(message) {
            console.log(message);
            consoleOutput.innerHTML += message + '\n';
            consoleOutput.scrollTop = consoleOutput.scrollHeight;
        }
        
        function testShow() {
            log('=== Testing Show Loading ===');
            log('Before: classes = ' + overlay.className);
            overlay.classList.add('show');
            log('After: classes = ' + overlay.className);
        }
        
        function testHide() {
            log('=== Testing Hide Loading ===');
            log('Before: classes = ' + overlay.className);
            overlay.classList.remove('show');
            log('After: classes = ' + overlay.className);
        }
        
        function checkState() {
            log('=== Current State ===');
            log('Element: ' + (overlay ? 'Found' : 'Not found'));
            log('Classes: ' + overlay.className);
            log('Display style: ' + getComputedStyle(overlay).display);
            log('Visible: ' + (getComputedStyle(overlay).display !== 'none'));
        }
        
        function openMainApp() {
            window.open('http://localhost:3000', '_blank');
        }
        
        // Initial state check
        document.addEventListener('DOMContentLoaded', () => {
            log('=== Page Loaded ===');
            checkState();
        });
    </script>
</body>
</html>